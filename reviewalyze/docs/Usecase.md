제공해주신 PRD와 IA 문서를 기반으로 작성된 \*\*상세 유즈케이스 명세서(Detailed Use Case Document)\*\*입니다.

본 문서는 사용자와 시스템 간의 상호작용을 구체적으로 정의하며, 개발자 및 테스터가 시스템의 동작을 명확히 이해하고 구현할 수 있도록 상세한 흐름과 예외 처리를 포함합니다.

-----

# 유즈케이스 명세서 (Use Case Document)

**프로젝트명:** Smart App Picker (개인화 가중치 기반 AI 앱 추천 서비스)
**문서 버전:** 1.0
**작성일:** 2025년 12월 08일

-----

## 1\. 액터 정의 (Actor Definitions)

시스템과 상호작용하는 모든 주체(사람 및 시스템)를 정의합니다.

### 1.1 종합 액터 정의 (Comprehensive Actor Definitions)

| 액터명 | 유형 | 상세 설명 및 역할 |
| :--- | :--- | :--- |
| **일반 사용자 (User)** | Primary | **(Person)** 별도의 로그인 절차 없이 웹사이트에 접속하여 앱을 검색하고 비교 정보를 소비하는 주체. 20대 대학생/직장인을 페르소나로 함. |
| **AI 분석 엔진 (System)** | Secondary | **(System)** 사용자의 자연어를 이해하고, 외부 데이터를 수집/분석하여 비교 결과를 생성하는 백엔드 시스템. (LLM + Crawler) |
| **앱 스토어 (External)** | External | **(System)** 앱 정보(메타데이터, 리뷰, 평점)의 원천 데이터 제공자. (Google Play Store, Apple App Store) |

-----

## 2\. 유즈케이스 개요 (Use Case Overview)

본 시스템의 핵심 가치는 단일 흐름이므로, 가장 중요한 \*\*'앱 검색 및 비교 분석(UC-01)'\*\*을 메인 유즈케이스로 정의하고 상세 기술합니다.

| 유즈케이스 ID | 유즈케이스 명 | 개요 | 우선순위 |
| :--- | :--- | :--- | :--- |
| **UC-01** | **앱 검색 및 비교 분석** | 사용자가 자연어로 앱을 검색하고, AI가 생성한 비교표를 확인한 뒤 가중치를 조절하여 최적의 앱을 찾는 과정. | **High** |
| **UC-02** | **상세 정보 확인** | 비교표 내 특정 항목(단점, 기능)을 클릭하여 근거가 되는 리뷰 원문이나 상세 내용을 확인. | Medium |
| **UC-03** | **앱 스토어 이동** | 최종 결정한 앱을 다운로드하기 위해 외부 스토어로 아웃링크 이동. | High |

-----

## 3\. 상세 유즈케이스 시나리오 (Detailed Use Case Scenarios)

### 3.1 [UC-01] 앱 검색 및 비교 분석

이 유즈케이스는 사용자가 홈 화면에 진입하여 원하는 앱을 찾고 결과를 확인하는 전체 여정을 다룹니다.

#### 3.1.1 선행 조건 및 후행 조건 (Preconditions and Postconditions)

  * **선행 조건 (Preconditions):**
      * 사용자가 인터넷이 연결된 디바이스로 웹사이트(Home)에 접속해 있다.
      * AI 엔진 및 크롤링 서버가 정상 가동 중이다.
  * **후행 조건 (Postconditions):**
      * **성공 시:** 사용자에게 입력 의도에 맞는 Top 3\~5개 앱의 비교표가 화면에 렌더링된다.
      * **실패 시:** 검색 실패 메시지 또는 재검색 유도 UI가 출력된다.

#### 3.1.2 비즈니스 규칙 및 제약사항 (Business Rules and Constraints)

  * **BR-01 (데이터 최신성):** 리뷰 데이터는 최근 6개월 이내의 것만 분석 대상으로 삼는다.
  * **BR-02 (가중치 계산):** 최종 점수는 `∑(기능 점수 × 개인화 가중치)` 공식을 따른다.
  * **BR-03 (응답 시간):** 사용자 경험을 위해 AI 분석 및 로딩은 최대 30초를 넘기지 않아야 하며, 3초 이상 소요 시 진행 상황을 시각화해야 한다.
  * **BR-04 (필터링):** 평점 3.0 미만의 앱은 추천 목록에서 자동 제외한다 (단, 사용자 요청 시 포함 가능).

#### 3.1.3 주요 단계 및 사건 흐름 (Main Steps and Flow of Events)

| 단계 | 주체 (Actor) | 행동 및 처리 내용 (Action & System Response) |
| :--- | :--- | :--- |
| **1** | User | 메인 화면의 검색창에 자연어로 질의를 입력한다. <br>*(예: "아이패드용 무료 필기 앱 추천해줘, 녹음 기능 필수야")* |
| **2** | User | Enter 키를 누르거나 검색 버튼을 클릭한다. |
| **3** | System | **[입력 검증]** 입력된 텍스트가 유효한지(빈 값, 욕설 등) 확인한다. |
| **4** | System | 로딩 화면(Loading View)으로 전환하고 분석 시작을 알린다. |
| **5** | System | **[의도 파악]** LLM을 통해 핵심 키워드("무료", "필기", "녹음")와 초기 가중치를 추출한다. |
| **6** | System | **[데이터 수집]** 외부 스토어에서 관련 카테고리 앱 리스트를 조회하고 리뷰 데이터를 수집한다. |
| **7** | System | **[분석 및 점수화]** 수집된 데이터를 분석하여 앱별 Feature Score를 계산하고, 사용자 가중치를 적용하여 랭킹을 산정한다. |
| **8** | System | 결과 화면(Result Page)으로 전환하며 \*\*비교표(Comparison Table)\*\*를 렌더링한다. |
| **9** | User | 비교표를 통해 1위 앱과 다른 앱들의 장단점을 확인한다. |

#### 3.1.4 대안 흐름 및 엣지 케이스 (Alternative Flows and Edge Cases)

  * **[Alt-A] 가중치 재설정 (User Refinement):**

      * **상황:** 결과 확인 후 사용자가 "녹음 기능"보다 "필기감"이 더 중요하다고 판단함.
      * **흐름:**
        1.  사용자가 결과 화면 상단의 '가중치 슬라이더'에서 '필기감' 항목을 높이고 '녹음'을 낮춤.
        2.  사용자가 슬라이더 조작을 멈춤(Mouse Up).
        3.  System은 서버 재요청 없이(또는 빠른 API 호출로) 클라이언트 내 데이터 기반으로 점수를 재계산.
        4.  비교표의 앱 순위가 애니메이션과 함께 실시간으로 재정렬됨.

  * **[Alt-B] 플랫폼 변경:**

      * **상황:** 사용자가 안드로이드 유저인데 iOS 앱이 검색됨 (또는 그 반대).
      * **흐름:**
        1.  사용자가 필터 영역에서 'Android' 버튼 클릭.
        2.  System은 안드로이드 마켓 데이터로 다시 필터링하여 결과를 갱신.

#### 3.1.5 예외 처리 절차 (Exception Handling Procedures)

  * **[Exc-01] 검색 결과 없음:**
      * **조건:** 사용자의 키워드에 매칭되는 앱이 없거나, 필터 조건(평점 등)이 너무 엄격할 때.
      * **처리:** "조건에 맞는 앱을 찾지 못했어요. 조건을 조금 넓혀볼까요?" 메시지와 함께 인기 키워드 칩(Chips)을 제안한다.
  * **[Exc-02] 부적절한 입력 (Nonsense Input):**
      * **조건:** 사용자가 앱과 관련 없는 질문(예: "오늘 날씨 어때?") 입력.
      * **처리:** AI가 의도를 파악하고 "죄송해요, 저는 앱 추천만 잘할 수 있어요. 앱 기능을 물어봐 주세요."라는 안내 메시지 출력.
  * **[Exc-03] 분석 시간 초과 (Timeout):**
      * **조건:** 외부 스토어 크롤링 지연으로 30초 이상 소요.
      * **처리:** "분석이 조금 오래 걸리고 있어요. 미리 찾아둔 유사한 결과(캐시 데이터)를 먼저 보여드릴까요?" 선택지 제공.

-----

## 4\. 사용자 인터페이스 고려사항 (User Interface Considerations)

### 4.1 데이터 시각화

  * **점수 표현:** 단순 텍스트 점수(85점)보다는 원형 차트(Donut Chart)나 게이지 바(Gauge Bar)를 사용하여 직관성을 높임.
  * **긍정/부정:** 긍정 리뷰 요약은 파란색/녹색 계열, 치명적 단점(Warning)은 붉은색 아이콘으로 강조하여 시인성 확보.

### 4.2 반응형 동작 (Mobile First)

  * **데스크탑:** 4개 이상의 앱을 가로 열(Column)로 나열하는 **표(Table)** 형태.
  * **모바일:** 화면 폭의 제약으로 인해, 1위 앱을 메인 카드로 보여주고 나머지는 **수직 리스트(Stack)** 또는 **스와이프 카드(Carousel)** 형태로 변환하여 가독성 유지.

### 4.3 입력 편의성

  * **추천 검색어:** 검색창 포커스 시 "요즘 대학생이 많이 찾는", "유료지만 돈값하는" 등의 칩(Chip)을 노출하여 입력을 돕는다.

-----

## 5\. 데이터 요구사항 및 흐름 (Data Requirements and Data Flow)

### 5.1 입력 데이터 (Input Data)

  * **Query String:** 사용자 자연어 입력값 (String, UTF-8).
  * **Persona Weights:** 사용자 정의 가중치 (JSON Object, 예: `{"price": 0.2, "usability": 0.5, "feature_ocr": 0.3}`).
  * **Filter Options:** OS(Android/iOS), Price(Free/Paid).

### 5.2 출력 데이터 (Output Data)

  * **Ranked Apps List:** 추천 순위대로 정렬된 앱 배열.
      * `app_name`, `icon_url`, `developer`, `store_link`
      * `total_score` (계산된 최종 점수)
      * `feature_match` (기능 일치 여부: true/false)
      * `sentiment_summary` (AI 요약 텍스트)
      * `pros` (장점 리스트), `cons` (단점 리스트)

### 5.3 데이터 흐름도 (Data Flow Diagram - Simplified)

1.  **User Client** -\> (Search Query) -\> **API Server**
2.  **API Server** -\> (Search Request) -\> **Crawler/External API**
3.  **Crawler** -\> (Raw Review Data) -\> **AI Analysis Module**
4.  **AI Analysis Module** -\> (Analyzed Features & Sentiment) -\> **Scoring Engine**
5.  **Scoring Engine** -\> (Final JSON Response) -\> **User Client**

-----

## 6\. 보안 및 개인정보 보호 (Security and Privacy Considerations)

### 6.1 개인정보 처리 (No Auth Policy)

  * **익명성 보장:** 본 서비스는 회원가입 및 로그인을 요구하지 않으므로, 사용자 식별 정보(PII)를 저장하지 않는다.
  * **세션 관리:** 사용자의 검색 기록 및 가중치 설정은 브라우저의 `Local Storage` 또는 `Session Storage`에만 일시적으로 저장하여, 페이지 새로고침 시 편의를 제공하되 서버에는 남기지 않는다.

### 6.2 입력 보안

  * **Sanitization:** 검색창을 통한 XSS(Cross-Site Scripting) 및 SQL Injection 공격을 방지하기 위해 입력값을 서버 단에서 철저히 소독(Sanitize) 및 검증(Validate)한다.
  * **Rate Limiting:** 특정 IP에서의 과도한 검색 요청(DDoS 또는 스크래핑 시도)을 차단하기 위해 API 호출 빈도를 제한한다. (예: 1분당 10회).

### 6.3 외부 링크 안전성

  * **Referrer Policy:** 외부 앱 스토어로 이동 시 `rel="noopener noreferrer"` 속성을 사용하여 보안 취약점을 방지하고, 사용자의 이전 경로 정보를 보호한다.